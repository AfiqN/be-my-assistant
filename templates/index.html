<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="/static/css/style.css">

    <title>Be My Assistant - RAG Chatbot</title>

  </head>
  <body>
    <div class="container">
        <div class="card main-content-card shadow-sm">
            <div class="card-header text-center bg-light py-3">
                 <h1 class="h4 mb-0"> <i class="bi bi-robot me-2"></i>Be My Assistant</h1>
                 <p class="text-muted small mb-0">Ask questions about your PDF</p>
            </div>

            <div class="card-body p-4">
                <section id="upload-section" class="mb-4">
                    <h2 class="h5 mb-3">1. Upload Document</h2>
                    <form id="uploadForm">
                    <div class="input-group mb-3">
                        <input class="form-control" type="file" id="fileInput" name="file" accept=".pdf" required>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-cloud-arrow-up-fill me-1"></i> Upload PDF
                        </button>
                    </div>
                    </form>
                    <div id="uploadStatus">
                        <!-- Status messages will appear here (e.g., "Uploading...", "Upload successful!", "Error: ...") -->
                        <!-- Example: <div class="text-success"><i class="bi bi-check-circle-fill"></i> Document processed successfully.</div> -->
                    </div>
                </section>

                <hr>

                <section id="chat-section">
                    <h2 class="h5 mb-3">2. Chat</h2>
                    <div id="chatbox" class="border rounded mb-3 shadow-sm">
                         <!-- Chat messages will appear here -->
                         <div class="text-center text-muted p-3">
                            <small>Upload a document and ask a question to start the chat.</small>
                         </div>
                         <!-- Example Messages -->
                         <div class="message-container bot-message-container">
                              <div class="avatar"><i class="bi bi-robot"></i></div>
                              <div class="bot-message">
                                  <div class="message">
                                      Hello! Upload a PDF and I'll help answer questions about it.
                                  </div>
                              </div>
                         </div>
                         <!-- <div class="message-container user-message-container">
                              <div class="user-message">
                                  <div class="message">
                                      What is the main topic of the document?
                                  </div>
                              </div>
                               <div class="avatar"><i class="bi bi-person-fill"></i></div>
                         </div> -->
                         <!-- End Example Messages -->

                        <!-- Loading Indicator Placeholder -->
                        <div class="spinner-container" id="loadingIndicator">
                            <div class="spinner-border text-primary spinner-border-sm" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <span class="ms-2 text-muted small">Assistant is thinking...</span>
                        </div>

                    </div>

                    <form id="chatForm">
                    <div class="input-group">
                        <input type="text" class="form-control" id="questionInput" placeholder="Ask a question about the document..." aria-label="Ask a question" required disabled> <!-- Start disabled -->
                        <button class="btn btn-success" type="submit" id="sendButton" disabled> <!-- Start disabled -->
                             <i class="bi bi-send-fill"></i>
                             <span class="d-none d-sm-inline ms-1">Send</span>
                        </button>
                    </div>
                    </form>
                </section>
            </div> <!-- End card-body -->

             <div class="card-footer text-center text-muted small py-2">
                 Powered by RAG Technology
             </div>
        </div> <!-- End main-content-card -->
    </div> <!-- End container -->

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <!-- Your Custom JavaScript (script.js) would go here -->
    <script src="/static/js/script.js" defer></script>

  </body>
</html>